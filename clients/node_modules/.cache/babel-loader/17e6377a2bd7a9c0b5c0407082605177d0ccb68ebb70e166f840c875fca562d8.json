{"ast":null,"code":"import\"./list.css\";import Navbar from\"../../components/navbar/Navbar\";import Header from\"../../components/header/Header\";import{useLocation}from\"react-router-dom\";import{useContext,useState}from\"react\";import{format}from\"date-fns\";import{DateRange}from\"react-date-range\";import SearchItem from\"../../components/searchItem/SearchItem\";import useFetch from\"../../hooks/useFetch\";import{SearchContext}from\"../../context/SearchContext\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const List=()=>{const location=useLocation();const[destination,setDestination]=useState(location.state.destination);const[dates,setDates]=useState(location.state.dates);const[openDate,setOpenDate]=useState(false);const[options,setOptions]=useState(location.state.options);const[min,setMin]=useState(undefined);const[max,setMax]=useState(undefined);const{data,loading,error,reFetch}=useFetch(`${process.env.REACT_APP_BASE_URL}/hotels?city=${destination}&min=${min||0}&max=${max||999}`);const handleClick=()=>{reFetch();// manually fetch if same URL\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Header,{type:\"list\"}),/*#__PURE__*/_jsx(\"div\",{className:\"listContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"listWrapper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"listSearch\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"lsTitle\",children:\"Search\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Destination\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:destination,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Check-in Date\"}),/*#__PURE__*/_jsx(\"span\",{onClick:()=>setOpenDate(!openDate),children:`${format(dates[0].startDate,\"MM/dd/yyyy\")} to ${format(dates[0].endDate,\"MM/dd/yyyy\")}`}),openDate&&/*#__PURE__*/_jsx(DateRange,{onChange:item=>setDates([item.selection]),minDate:new Date(),ranges:dates})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsItem\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Options\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptions\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Min price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:e=>setMin(e.target.value),className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"lsOptionText\",children:[\"Max price \",/*#__PURE__*/_jsx(\"small\",{children:\"per night\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",onChange:e=>setMax(e.target.value),className:\"lsOptionInput\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Adult\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.adult})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Children\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:0,className:\"lsOptionInput\",placeholder:options.children})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"lsOptionItem\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"lsOptionText\",children:\"Room\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,className:\"lsOptionInput\",placeholder:options.room})]})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClick,children:\"Search\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"listResult\",children:loading?\"loading\":/*#__PURE__*/_jsx(_Fragment,{children:data.map((item,index)=>/*#__PURE__*/_jsx(SearchItem,{item:item,index:index},item._id))})})]})})]});};export default List;","map":{"version":3,"names":["Navbar","Header","useLocation","useContext","useState","format","DateRange","SearchItem","useFetch","SearchContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","List","location","destination","setDestination","state","dates","setDates","openDate","setOpenDate","options","setOptions","min","setMin","undefined","max","setMax","data","loading","error","reFetch","process","env","REACT_APP_BASE_URL","handleClick","children","type","className","placeholder","onClick","startDate","endDate","onChange","item","selection","minDate","Date","ranges","e","target","value","adult","room","map","index","_id"],"sources":["E:/Github/Ticket-booking-application/clients/src/pages/list/List.jsx"],"sourcesContent":["import \"./list.css\";\r\nimport Navbar from \"../../components/navbar/Navbar\";\r\nimport Header from \"../../components/header/Header\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { useContext, useState } from \"react\";\r\nimport { format } from \"date-fns\";\r\nimport { DateRange } from \"react-date-range\";\r\nimport SearchItem from \"../../components/searchItem/SearchItem\";\r\nimport useFetch from \"../../hooks/useFetch\";\r\nimport { SearchContext } from \"../../context/SearchContext\";\r\n\r\nconst List = () => {\r\n  const location = useLocation();\r\n  const [destination, setDestination] = useState(location.state.destination);\r\n  const [dates, setDates] = useState(location.state.dates);\r\n  const [openDate, setOpenDate] = useState(false);\r\n  const [options, setOptions] = useState(location.state.options);\r\n  const [min, setMin] = useState(undefined);\r\n  const [max, setMax] = useState(undefined);\r\n\r\n\r\nconst { data, loading, error, reFetch } = useFetch(`${process.env.REACT_APP_BASE_URL}/hotels?city=${destination}&min=${min || 0}&max=${max || 999}`);\r\n\r\n\r\n\r\n  \r\n\r\n  const handleClick = ()=>{\r\n     reFetch(); // manually fetch if same URL\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Navbar />\r\n      <Header type=\"list\" />\r\n      <div className=\"listContainer\">\r\n        <div className=\"listWrapper\">\r\n          <div className=\"listSearch\">\r\n            <h1 className=\"lsTitle\">Search</h1>\r\n            <div className=\"lsItem\">\r\n              <label>Destination</label>\r\n              <input placeholder={destination} type=\"text\" />\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label>Check-in Date</label>\r\n              <span onClick={() => setOpenDate(!openDate)}>{`${format(\r\n                dates[0].startDate,\r\n                \"MM/dd/yyyy\"\r\n              )} to ${format(dates[0].endDate, \"MM/dd/yyyy\")}`}</span>\r\n              {openDate && (\r\n                <DateRange\r\n                  onChange={(item) => setDates([item.selection])}\r\n                  minDate={new Date()}\r\n                  ranges={dates}\r\n                />\r\n              )}\r\n            </div>\r\n            <div className=\"lsItem\">\r\n              <label>Options</label>\r\n              <div className=\"lsOptions\">\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Min price <small>per night</small>\r\n                  </span>\r\n                  <input type=\"number\" onChange={e=> setMin(e.target.value)} className=\"lsOptionInput\" />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">\r\n                    Max price <small>per night</small>\r\n                  </span>\r\n                  <input type=\"number\" onChange={e=> setMax(e.target.value)}  className=\"lsOptionInput\" />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Adult</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.adult}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Children</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={0}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.children}\r\n                  />\r\n                </div>\r\n                <div className=\"lsOptionItem\">\r\n                  <span className=\"lsOptionText\">Room</span>\r\n                  <input\r\n                    type=\"number\"\r\n                    min={1}\r\n                    className=\"lsOptionInput\"\r\n                    placeholder={options.room}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <button onClick={handleClick}>Search</button>\r\n          </div>\r\n          <div className=\"listResult\">\r\n            {loading ? (\r\n              \"loading\"\r\n            ) : (\r\n              <>\r\n                {data.map((item,index) => (\r\n                  <SearchItem item={item} key={item._id} index={index} />\r\n                ))}\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default List;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}